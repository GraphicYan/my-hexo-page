---
title: 光通量、光强和照度
layout: Illumination
toc: true
top: true
tag: Rendering
date: 2022/03/18 10:23:29
---

### 光学单位
控制曝光，本质是在空间和时间上控制环境光照抵达传感器的量。
没有环境光照，那一切都白谈，那我们不妨来了解一下关于环境光照（Scene Illumination）的一些基础概念，这些概念并不需要死记硬背，但需要理解。
理解了这些概念，就像“打通任督二脉”，知道为什么，就能在各种环境下去指导你怎么做，光看那些 xx 老师教你拍 ABC 题材、DEF 场景参数应该怎么设置，是没有办法通用的。
![image.png](assets/post_images/Illumination/image_000.png#clientId=u9178adbc-8119-4&from=paste&id=u0a0b980a&originHeight=960&originWidth=1440&originalType=url&ratio=1&rotation=0&showTitle=false&size=167927&status=done&style=none&taskId=u013e63b2-fb2a-41e1-93af-33430bdc576&title=)
今晚的故事从一根蜡烛开始。
假设在一个全黑的环境里，你只有一支蜡烛——它在安静地燃烧，同时放出大量的热（部分以红外线的形式）、可见光，但是影响我们对它亮度感知的，只有可见光波段的强度。
这支蜡烛在可见光波段的光照强度（intensity）是 1 cd 左右。
cd 是坎德拉（Candela），这个词来自拉丁语的蜡烛，它是国际标准单位制（SI Unit）里发光强度单位。
蜡烛的光向着四面八方传播，从这个光源“流”出的光的量，我们称之为光通量（Luminous Flux），它的单位是流明（Lumen，lm），它的定义是，每单位时间（每秒）内从单位亮度（每坎德拉）光源里放出的，经过每球面度的光。
一个球体的表面积一共有 4π 球面度，因此一支 1cd 的蜡烛一共可以提供 4π 流明的光通量。
假如你用一张完美的黑纸挡掉了蜡烛的一半，那么这个时候环境里只剩下 6 流明的光通量，但光源本身的强度保持 1cd 不变。
你可能注意到了，流明并没有把距离光源的距离考虑进去，距离光源越近，每球面度的实际面积越小，实际上能量是更集中的，那么要描述这个概念，我们要引入“照度”（Illuminance），单位是勒克斯，勒克斯（Lux，lx）。
1 勒克斯是当每单位面积（1 平方米）受到每单位光通量（1 流明）时的照度，根据定义，1lux 即当光源强度为 1cd 时，距离光源 1m 的照度。
![image.png](assets/post_images/Illumination/image_001.png#clientId=u9178adbc-8119-4&from=paste&id=ud529d51f&originHeight=319&originWidth=479&originalType=url&ratio=1&rotation=0&showTitle=false&size=53556&status=done&style=none&taskId=u86e5cda9-39d5-48aa-afa2-27c11c8e63c&title=)
点光源、球体面积、半径，看到这些词，数学好的同学现在已经要抢答了：**平方反比定律**！
如上图所示，同样强度的光源，随着离光源的距离增加，尽管流明数不变，但是照度一直都在减小。
接下来，我们终于可以谈论亮度了——Luminance，或者有时也被称为 Brightness。
亮度和照度的本质区别，就是照度反映的是在**某个距离**上单位面积的光通量、但亮度是指发光体（反光体）**表面**发光（反光）强弱的物理量。
除了光源的特性，还有物体表面的反射特性、甚至你对场景的观看角度，都会改变这个场景的亮度。
亮度的单位是坎德拉/平方米（cd/(m^2)），在显示器行业，亮度一般用 nit（尼特）来描述，nit 的单位也是坎德拉/平方米（cd/(m^2)）。
**场景光照是整个摄影流程中唯一能对光“做加法”的步骤，此后的光圈、快门时间，本质都是在对光“做减法”。**

### UE里的光照单位换算
各种单位之间的关系如下所示：

- 1 cd=625个无单位
- 1 cd=1 lm/sr

请注意，光源强度用 **烛光** 定义时，不受椎角的影响。另一方面，光源强度用 **流明** 定义时，发光能力仅应用于受光源影响的立体角，用 **球面度**（sr）计算。
对于 **点光源**，受光源影响的立体角为4π sr：

- 照度（1 lm）≈49.7 * 照度（1个无单位）
- 照度（1 cd）≈12.6 * 照度（1 lm）

对于 **点光源**，立体角定义为2π * (1 - cos(θ))，其中θ是光锥半角：

- 照度（1 lm）≈99.5 / (1 - cos(θ)) * 照度（1个无单位）

对于默认椎体，θ = 44°，立体角大约为1.76 sr：

- 照度（1 lm）≈354 * 照度（1个无单位），针对默认聚光源。
- 照度（1 cd）≈1.76 * 照度（1 lm），针对默认聚光源。

如果以流明表示光源强度，则椎角越小，来自光源的表面照度越强。
对于 **矩形光源**，立体角定义为2π sr：

- 照度（1 lm）≈199 * 照度（1个无单位）
- 照度（1 cd）≈3.14 * 照度（1 lm）


[https://zhuanlan.zhihu.com/p/472872214](https://zhuanlan.zhihu.com/p/472872214)
