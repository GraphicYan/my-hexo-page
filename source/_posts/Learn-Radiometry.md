---
title: 辐射度量学笔记
layout: Learn-Radiometry
toc: false
date: 2021/03/22 22:24:59
---

射度量学其实是对光照的一套测量系统和单位，它能够准确的描述光线的物理性质。<br />具体来说，我们需要明白的是其中的几个关于光线的概念，分别为：**辐射能量(Radiant energy)，辐射通量(Radiant flux)，辐射强度(Radiant intensity)，irradiance，radiance**，(对后两种概念没有合适的中文，所以就直接用英文了)，接下来就对这些概念进行具体解释。
<a name="zPSJi"></a>
## **2.1 辐射能量(Radiant energy)和辐射通量(Radiant flux)**
首先看一看Radiant energy的定义：<br />![](assets/post_images/Learn-Radiometry/image_000.jpg#from=paste&height=212&id=ud22fe239&margin=%5Bobject%20Object%5D&originHeight=212&originWidth=954&originalType=url&status=done&style=none&taskId=u65ebfc3c-9bd0-4b87-979f-baaa45103b4&width=954)<br />所谓辐射能量其实非常直观，就是辐射出来的电磁能量，单位为焦耳。可以用物理当中的做功的大小来进行类比。<br />接下来是Radiant flux(power)：<br />![](assets/post_images/Learn-Radiometry/image_001.png#from=paste&height=228&id=u7e89251f&margin=%5Bobject%20Object%5D&originHeight=228&originWidth=877&originalType=url&status=done&style=none&taskId=u106eb7b6-0eca-446f-b515-cea9e4ce73a&width=877)<br />所谓辐射通量或者说辐射功率，其实就是在辐射能量的基础之上除以时间，也就是单位时间的能量。同样也可以用物理当中的功率来进行类比。<br />(tips: 具体来说一般偏向用radiant flux来衡量光线的亮度，因为我们更关心的是单位时间的效果，事实上也是这么做的，想想在说白炽灯泡的时候也是说60W亮度，80W亮度)
<a name="eihfU"></a>
## **2.2 辐射强度(Radiant intensity)**
在进行具体的数学定义之前，先借助如下一张图建立对剩下3个概念的一些直观的理解：<br />![](assets/post_images/Learn-Radiometry/image_002.jpeg#from=paste&height=511&id=u5d4b99f5&margin=%5Bobject%20Object%5D&originHeight=511&originWidth=923&originalType=url&status=done&style=none&taskId=ud3d3ad12-f376-4b63-996b-329fab8443e&width=923)<br />**1 Radiant itensity其实就是指从一个光源出发某一方向上的亮度**<br />**2 Irradiance指某一微小平面所接受到的光线亮度**<br />**3 radiance衡量的是一条传播光线所具有的亮度(不受传播方向影响而改变)**<br />（这里的亮度也可以理解为radiant flux(power)。）<br />好了，接下来首先看Radiant intensity的数学定义：<br />![](assets/post_images/Learn-Radiometry/image_003.jpeg#from=paste&height=468&id=u0cb2ab80&margin=%5Bobject%20Object%5D&originHeight=468&originWidth=965&originalType=url&status=done&style=none&taskId=u8a442f47-9192-4810-861e-72cb8741177&width=965)<br />Radiant intensity一句话来说就是从光源发出的**每单位立体角上的功率**，关于辐射功率的定义在上文已经解释，这里唯一还不知道的就是立体角(solid angle)了。<br />solid angle其实就是对应二维空间中圆的弧度在三维空间中球上的拓展。 首先看在二维计算弧度公式如下：<br />![](assets/post_images/Learn-Radiometry/image_004.jpg#from=paste&height=260&id=u9398dacb&margin=%5Bobject%20Object%5D&originHeight=260&originWidth=979&originalType=url&status=done&style=none&taskId=u26176243-900d-4bb4-96f9-4261f088725&width=979)<br />即![](assets/post_images/Learn-Radiometry/image_005.svg#from=paste&height=48&id=ua8e64cbc&margin=%5Bobject%20Object%5D&originHeight=48&originWidth=55&originalType=url&status=done&style=none&taskId=u6e7fe04e-4ec4-4c02-a920-026bb7fcbc4&width=55)(至于为什么这么算，中学知识这里就不展开了。)<br />那么对应在三维上的球的弧度(立体角)，只需进行一个简单的扩展如下：<br />![](assets/post_images/Learn-Radiometry/image_006.jpeg#from=paste&height=225&id=uf5e0304c&margin=%5Bobject%20Object%5D&originHeight=225&originWidth=720&originalType=url&status=done&style=none&taskId=uecf4214e-a711-4d88-8316-d3c17b2b962&width=720)<br />即立体角度所对应球上的投影面积比上半径的平方，整个球的立体角为![](assets/post_images/Learn-Radiometry/image_007.svg#from=paste&height=20&id=u82bfc779&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=22&originalType=url&status=done&style=none&taskId=ub5589d9b-adef-4a5a-b013-0c31a61f348&width=22)。<br />那么对于Radiant intensity的定义当中，微分立体角![](assets/post_images/Learn-Radiometry/image_008.svg#from=paste&height=20&id=ua71dbfe0&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=24&originalType=url&status=done&style=none&taskId=u0eca9bde-f3ac-4fa3-ba11-4904fa4348c&width=24)计算如下：<br />![](assets/post_images/Learn-Radiometry/image_009.jpeg#from=paste&height=475&id=u56c4c2ad&margin=%5Bobject%20Object%5D&originHeight=475&originWidth=720&originalType=url&status=done&style=none&taskId=u335df5a2-e1f9-4b90-8a5b-4c5216591de&width=720)<br />首先确定空间中一个方向(通过![](assets/post_images/Learn-Radiometry/image_010.svg#from=paste&height=23&id=u74e965f6&margin=%5Bobject%20Object%5D&originHeight=23&originWidth=32&originalType=url&status=done&style=none&taskId=u33a202c1-f4be-4432-b821-6a1833738f5&width=32))，在这两个角度上分别增加一个微分值，则可以计算出如图中所示的对应到球上的投影面积。其中![](assets/post_images/Learn-Radiometry/image_011.svg#from=paste&height=20&id=u33589f9c&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=30&originalType=url&status=done&style=none&taskId=ubcc35265-5d43-4a89-a4dd-af4bc9d1578&width=30)就是微分面积元的高，![](assets/post_images/Learn-Radiometry/image_012.svg#from=paste&height=23&id=u2eff8d87&margin=%5Bobject%20Object%5D&originHeight=23&originWidth=72&originalType=url&status=done&style=none&taskId=u4c479dec-55c1-4e80-907a-5a45b5e0036&width=72)是微分面积元的宽，二者相乘，自然就是面积了，再根据立体角的定义除以![](assets/post_images/Learn-Radiometry/image_013.svg#from=paste&height=24&id=u7818210f&margin=%5Bobject%20Object%5D&originHeight=24&originWidth=19&originalType=url&status=done&style=none&taskId=ub403eda9-be0e-421a-befd-98c27c33c0a&width=19)即可得到微分立体角了。<br />在此还可以验证下，对![](assets/post_images/Learn-Radiometry/image_014.svg#from=paste&height=20&id=u16557f86&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=24&originalType=url&status=done&style=none&taskId=u9e7a3f25-4740-4a9b-ae74-2065eea9a0a&width=24)在整个球上积分：<br />![](assets/post_images/Learn-Radiometry/image_015.svg#from=paste&height=146&id=u0403c7ce&margin=%5Bobject%20Object%5D&originHeight=146&originWidth=675&originalType=url&status=done&style=none&taskId=ub745c136-3bea-4b44-9b0a-f232ff76c7e&width=675)<br />与之前所讲的球的立体角为![](assets/post_images/Learn-Radiometry/image_016.svg#from=paste&height=20&id=uac27a821&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=22&originalType=url&status=done&style=none&taskId=u06f14925-1e24-4b4f-8e13-f33dc5505ad&width=22)一致。<br />**tips：**<br />注意在计算微分立体角之前，我们其实选定了空间当中的一个方向（由![](assets/post_images/Learn-Radiometry/image_017.svg#from=paste&height=23&id=u880df640&margin=%5Bobject%20Object%5D&originHeight=23&originWidth=32&originalType=url&status=done&style=none&taskId=u1141cc76-2056-49b3-87d2-e6ef5834604&width=32)所确定），称这个方向为![](assets/post_images/Learn-Radiometry/image_018.svg#from=paste&height=15&id=u0327be40&margin=%5Bobject%20Object%5D&originHeight=15&originWidth=13&originalType=url&status=done&style=none&taskId=ubdcd6264-abf1-40a2-8e80-0bc7e833c96&width=13)，然后才在此基础之上分别对![](assets/post_images/Learn-Radiometry/image_019.svg#from=paste&height=23&id=ue876a030&margin=%5Bobject%20Object%5D&originHeight=23&originWidth=32&originalType=url&status=done&style=none&taskId=u9eefeadb-2c48-425b-bd81-5d6b7b6d063&width=32)增加![](assets/post_images/Learn-Radiometry/image_020.svg#from=paste&height=23&id=u793d7df6&margin=%5Bobject%20Object%5D&originHeight=23&originWidth=53&originalType=url&status=done&style=none&taskId=udb1ff2a9-bf63-47b5-aa1d-a8b28747317&width=53)经计算得到最终的![](assets/post_images/Learn-Radiometry/image_021.svg#from=paste&height=20&id=ub8fe17e7&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=24&originalType=url&status=done&style=none&taskId=u9515beb7-84a3-4377-9351-7ab9011f841&width=24)，因此Radiant intensity的物理含义此时就很清楚了，为光源向某一方向所发射出的单位立体角的功率，简而言之就是光源在某个方向上的亮度如何！<br />最后举一个对各向同性点光源计算Radiant intensity的例子：<br />![](assets/post_images/Learn-Radiometry/image_022.jpeg#from=paste&height=536&id=uae37ac51&margin=%5Bobject%20Object%5D&originHeight=536&originWidth=720&originalType=url&status=done&style=none&taskId=u3d49b4f5-7ed5-408e-b81b-7d71a576eb1&width=720)<br />因为各项同性点光源所有方向上的亮度都与方向无关，因此立体角可以直接积分出来为![](assets/post_images/Learn-Radiometry/image_023.svg#from=paste&height=20&id=ub1f095c1&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=22&originalType=url&status=done&style=none&taskId=ua1dac456-2d75-4d1d-8283-54139f0518f&width=22)，最终计算得![](assets/post_images/Learn-Radiometry/image_024.svg#from=paste&height=47&id=ub26a7641&margin=%5Bobject%20Object%5D&originHeight=47&originWidth=68&originalType=url&status=done&style=none&taskId=u9996d7d3-38db-4305-bc51-022effca8cc&width=68)。 (如果不是各项同性的话这里的![](assets/post_images/Learn-Radiometry/image_025.svg#from=paste&height=26&id=u72b94f1b&margin=%5Bobject%20Object%5D&originHeight=26&originWidth=40&originalType=url&status=done&style=none&taskId=u30c57a2b-0785-4d58-9eba-8f85870d969&width=40)应该为一个关于![](assets/post_images/Learn-Radiometry/image_026.svg#from=paste&height=15&id=ue30b710c&margin=%5Bobject%20Object%5D&originHeight=15&originWidth=13&originalType=url&status=done&style=none&taskId=u8cc57cf2-a8e3-4d5b-8265-7a276642cc7&width=13)方向的的函数)<br />**以上就已经详细介绍完了关于Radiant intensity的定义，接下来给出irradiance的相关定义**
<a name="lKHgS"></a>
## **2.3 irradiance**
![](assets/post_images/Learn-Radiometry/image_027.jpeg#from=paste&height=338&id=ub0c95528&margin=%5Bobject%20Object%5D&originHeight=338&originWidth=720&originalType=url&status=done&style=none&taskId=ue3681ad7-ac3c-48f5-981f-cd1f05786d6&width=720)<br />同样用一句话来说，irradiance是指每单位**照射**面积所接收到的power，单位如图中所示。 借助于irradiance，可以很轻松的解释在Blinn-Phong所提到的Lambert's Law,即光线亮度在计算时需要乘上一个![](assets/post_images/Learn-Radiometry/image_028.svg#from=paste&height=20&id=u926c7b25&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=39&originalType=url&status=done&style=none&taskId=u5c5eeac5-7b5c-4882-9fc0-37f3faa6ab9&width=39)，如下图所示：<br />![](assets/post_images/Learn-Radiometry/image_029.jpg#from=paste&height=308&id=ua2297280&margin=%5Bobject%20Object%5D&originHeight=308&originWidth=764&originalType=url&status=done&style=none&taskId=u7e872993-a37c-41c0-998e-28d2c39991b&width=764)<br />当光线垂直照射平面时，如上图左边所示，**照射**到平面上的面积与光线本身的“宽度一致”。但当光线斜着照射到平面时，此时的**照射**面积就不再是光线本身的“宽度”了，具体来说此时的照射面积![](assets/post_images/Learn-Radiometry/image_030.svg#from=paste&height=26&id=u98dc7b5c&margin=%5Bobject%20Object%5D&originHeight=26&originWidth=118&originalType=url&status=done&style=none&taskId=u2c806058-4327-4992-838a-9e38bb150a9&width=118)。<br />那么针对右边情况的irradiance的计算就应该为：<br />![](assets/post_images/Learn-Radiometry/image_031.svg#from=paste&height=26&id=u2596dd7b&margin=%5Bobject%20Object%5D&originHeight=26&originWidth=213&originalType=url&status=done&style=none&taskId=ue5795ca0-dff0-4517-ad33-1a46e621a60&width=213)，相对于![](assets/post_images/Learn-Radiometry/image_032.svg#from=paste&height=26&id=uc174d893&margin=%5Bobject%20Object%5D&originHeight=26&originWidth=96&originalType=url&status=done&style=none&taskId=u557affc8-cf10-486b-9815-442a6d68d85&width=96)多了一个![](assets/post_images/Learn-Radiometry/image_033.svg#from=paste&height=20&id=ue4ec14b1&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=39&originalType=url&status=done&style=none&taskId=u3e219a23-2ea4-45c2-99a8-5db6437048b&width=39)。<br />而这其实也就解释了Lambert’s Law要乘以一个![](assets/post_images/Learn-Radiometry/image_034.svg#from=paste&height=20&id=u8b21572e&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=39&originalType=url&status=done&style=none&taskId=u5d24a40a-ef29-46f5-96ce-f582f5a6ad1&width=39)的原因了。<br />此外，回想一下也是在Blinn-Phong模型所提到的光线越远会越加衰减：<br />![](assets/post_images/Learn-Radiometry/image_035.jpeg#from=paste&height=621&id=uad6de2c1&margin=%5Bobject%20Object%5D&originHeight=621&originWidth=972&originalType=url&status=done&style=none&taskId=u626f1b1d-4900-4f60-b2a2-cf7f08a45a2&width=972)<br />该现象也完全可以用irradiance解释，因为光的功率始终一致，离点光源所照射到的圆球面积也就越大，因此根据irradiance的式子，分母的面积值也就越大，irradiance也就越小。
<a name="ODSBP"></a>
## **2.4 radiance**
最后，我们终于来到了最后一条概念了，这条概念也是所有辐射度量学的概念当中最为重要的一个，那么首先直接就来看他的数学定义是怎么样的：<br />![](assets/post_images/Learn-Radiometry/image_036.jpeg#from=paste&height=418&id=u2ce1865f&margin=%5Bobject%20Object%5D&originHeight=418&originWidth=720&originalType=url&status=done&style=none&taskId=ue4cb2ab8-b7bc-4882-8819-c5bd9dd678f&width=720)<br />用一句话概述的话，所谓radiance就是指**每单位立体角，每单位垂直面积的功率**，直观来看的话，很像是Intensity和irradiance的结合。**它同时指定了光的方向与照射到的表面所接受到的亮度**。<br />但这里有一个细微的区别，在irradiance中定义的**每单位照射面积**，而在radiance当中，为了更好的使其成为描述一条光线传播中的亮度，且在传播过程当中大小不随方向改变，所以在定义中关于接收面积的部分是**每单位垂直面积**，而这一点的不同也正解释了图中式子分母上的![](assets/post_images/Learn-Radiometry/image_037.svg#from=paste&height=20&id=u2acfc671&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=39&originalType=url&status=done&style=none&taskId=uf0addd20-70c2-40d6-874f-e8a7b0e92a0&width=39)，具体可以观察如下图：<br />![](assets/post_images/Learn-Radiometry/image_038.png#from=paste&height=382&id=u7bae6192&margin=%5Bobject%20Object%5D&originHeight=382&originWidth=945&originalType=url&status=done&style=none&taskId=u4c018835-abe0-43f5-852f-40668ce0896&width=945)<br />即图中的![](assets/post_images/Learn-Radiometry/image_039.svg#from=paste&height=20&id=u32321d59&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=27&originalType=url&status=done&style=none&taskId=u67a6b291-cf16-483b-ac89-5e99ff1b374&width=27)是irradiance中定义所对应的，而![](assets/post_images/Learn-Radiometry/image_040.svg#from=paste&height=24&id=ubfa38364&margin=%5Bobject%20Object%5D&originHeight=24&originWidth=40&originalType=url&status=done&style=none&taskId=ubc2bd5cd-5d99-49ae-ae32-986239a7ea8&width=40)才是radiance中所定义的面积。二者之间的关系为![](assets/post_images/Learn-Radiometry/image_041.svg#from=paste&height=24&id=uf8d05f5e&margin=%5Bobject%20Object%5D&originHeight=24&originWidth=134&originalType=url&status=done&style=none&taskId=ue9543cc2-d452-40d3-bb7d-3454f585713&width=134)。<br />(以上各项定义确实比较绕，我在闫老师的讲解上又去借鉴了PBR书中的定义，对这些概念加以了自己的解释，希望能对大家有帮助！)<br />好了，在理解了radiance和irradiance的定义之后，再讨论讨论它们之间的关系，通过二者的定义式子，不难得出如下结果：<br />![](assets/post_images/Learn-Radiometry/image_042.svg#from=paste&height=62&id=u3790a840&margin=%5Bobject%20Object%5D&originHeight=62&originWidth=675&originalType=url&status=done&style=none&taskId=u495af023-87ec-4e25-a3f6-cc0b25c73eb&width=675)<br />进一步推导得到：<br />![](assets/post_images/Learn-Radiometry/image_043.jpeg#from=paste&height=430&id=uc1190328&margin=%5Bobject%20Object%5D&originHeight=430&originWidth=720&originalType=url&status=done&style=none&taskId=u0e036d80-725c-4543-8a9f-bdb57193e7e&width=720)<br />观察一下积分后的式子，![](assets/post_images/Learn-Radiometry/image_044.svg#from=paste&height=26&id=ubaedd9ec&margin=%5Bobject%20Object%5D&originHeight=26&originWidth=43&originalType=url&status=done&style=none&taskId=u0f77ad14-1fdf-4020-93d1-31d4b7d57d4&width=43)就是点p的irradiance，其物理含义是上文所提到过的点p上**每单位照射面积的功率**，而![](assets/post_images/Learn-Radiometry/image_045.svg#from=paste&height=26&id=u9a245f61&margin=%5Bobject%20Object%5D&originHeight=26&originWidth=71&originalType=url&status=done&style=none&taskId=u1322e062-8893-4a61-b820-427befcb878&width=71)指入射光**每立体角，每垂直面积的功率**，因此积分式子右边的![](assets/post_images/Learn-Radiometry/image_046.svg#from=paste&height=20&id=ue1bd60af&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=39&originalType=url&status=done&style=none&taskId=uf2fbbef5-6ef1-4e76-a3ba-af87060a4df&width=39)解释了面积上定义的差异，而对![](assets/post_images/Learn-Radiometry/image_047.svg#from=paste&height=20&id=u3a9a971e&margin=%5Bobject%20Object%5D&originHeight=20&originWidth=24&originalType=url&status=done&style=none&taskId=u7a6ed7fc-704f-4c58-a2da-be06a22c61a&width=24)积分，则是相当于对所有不同角度的入射光线做一个求和，那么该积分式子的物理含义便是，一个点(微分面积元)所接收到的亮度(irradiance)，由所有不同方向的入射光线亮度(radiance)共同贡献得到。
